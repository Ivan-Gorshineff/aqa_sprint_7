{"name": "Позитивный сценарий: создание курьера", "status": "broken", "statusDetails": {"message": "TypeError: a bytes-like object is required, not 'Response'", "trace": "self = <test_create_courier.TestCreateCourier object at 0x0000021367565950>\ncourier_credentials = {'firstname': 'Аникита', 'login': 'г-жа Одинцова Маргарита Петровна', 'password': 'tb8*CuKfo('}\n\n    @title('Позитивный сценарий: создание курьера')\n    @description('Проверяем, что после создания курьера возвращается статус код 201 и тело ответа \"{\"ok\":True}\"')\n    def test_create_courier_return_status_code_201_and_message_ok(self, courier_credentials):\n        payload = courier_credentials\n        with step('Отправляем запрос на создание курьера'):\n            response = UsersApi.create_courier(payload)\n        with step('Проверяем код ответа и статус'):\n            assert response.status_code == 201, response.json()\n            assert response.json() == {\"ok\":True}, response.json()\n>       attach(response, attachment_type='application/json', extension='json')\n\ntests\\test_create_courier.py:18: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv\\Lib\\site-packages\\allure_commons\\_allure.py:210: in __call__\n    plugin_manager.hook.attach_data(body=body, name=name, attachment_type=attachment_type, extension=extension)\n.venv\\Lib\\site-packages\\pluggy\\_hooks.py:513: in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n.venv\\Lib\\site-packages\\pluggy\\_manager.py:120: in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n.venv\\Lib\\site-packages\\allure_pytest\\listener.py:252: in attach_data\n    self.allure_logger.attach_data(uuid4(), body, name=name, attachment_type=attachment_type, extension=extension)\n.venv\\Lib\\site-packages\\allure_commons\\reporter.py:165: in attach_data\n    plugin_manager.hook.report_attached_data(body=body, file_name=file_name)\n.venv\\Lib\\site-packages\\pluggy\\_hooks.py:513: in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n.venv\\Lib\\site-packages\\pluggy\\_manager.py:120: in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <allure_commons.logger.AllureFileLogger object at 0x000002136757F4D0>, body = <Response [201]>\nfile_name = '2a6e5f5c-3148-42b8-8635-2cb53ba110dc-attachment.json'\n\n    @hookimpl\n    def report_attached_data(self, body, file_name):\n        destination = self._report_dir / file_name\n        with open(destination, 'wb') as attached_file:\n            if isinstance(body, str):\n                attached_file.write(body.encode('utf-8'))\n            else:\n>               attached_file.write(body)\nE               TypeError: a bytes-like object is required, not 'Response'\n\n.venv\\Lib\\site-packages\\allure_commons\\logger.py:48: TypeError"}, "description": "Проверяем, что после создания курьера возвращается статус код 201 и тело ответа \"{\"ok\":True}\"", "steps": [{"name": "Отправляем запрос на создание курьера", "status": "passed", "start": 1744256105525, "stop": 1744256105811}, {"name": "Проверяем код ответа и статус", "status": "passed", "start": 1744256105811, "stop": 1744256105811}], "attachments": [{"source": "2a6e5f5c-3148-42b8-8635-2cb53ba110dc-attachment.json", "type": "application/json"}], "start": 1744256105524, "stop": 1744256105813, "uuid": "12827f54-6fdd-4d43-b7db-7f88327857bf", "historyId": "8b5b9c7f26b9576dcfc893d7937d239e", "testCaseId": "8b5b9c7f26b9576dcfc893d7937d239e", "fullName": "tests.test_create_courier.TestCreateCourier#test_create_courier_return_status_code_201_and_message_ok", "labels": [{"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_create_courier"}, {"name": "subSuite", "value": "TestCreateCourier"}, {"name": "host", "value": "WIN-MSISGTMAM5B"}, {"name": "thread", "value": "2084-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_create_courier"}]}